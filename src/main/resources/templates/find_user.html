<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>User search</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link th:href="@{../all.css}" rel="stylesheet">
</head>
<body>
<header th:replace="fragments/header :: header"></header>
<div id="wrapper">
    <div id="featured-wrapper">
        <div class="form">
            <h1>Поиск пользователя</h1>
            <hr>
            <form>
                <label for="namePrefix" class="inline"><b>Введите имя</b></label>
                <input type="text" id="namePrefix" placeholder="Введите имя" class="inline" name="namePrefix"
                       th:value="${param.namePrefix}">
                <button type="submit" class="formButton">Найти</button>
            </form>
            <hr>
            <table class="table-form">
                <tr>
                    <th>id</th>
                    <th>Имя пользователя</th>
                    <th>Удалить</th>
                </tr>
                <tr th:unless="${users.empty}" th:each="user : ${users}">

                    <td th:text="${user.id}">1</td>
                    <td>
                        <a th:text="${user.username}" th:href="@{user/{id}(id = ${user.id})}"></a>
                    </td>
                    <td>
                        <form th:method="delete" th:action="@{user/{id}(id = ${user.id})}">
                            <button type="submit" class="TableButton">Удалить</button>
                        </form>
                    </td>
                </tr>
                <tr th:if="${users.empty}">
                    <td colspan="3">No data</td>
                </tr>
            </table>
            <div>
                <a th:href="@{/admin/user/new}" >Add user</a>
            </div>
        </div>

    </div>
</div>
</html>
